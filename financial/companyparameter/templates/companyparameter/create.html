{% extends 'base-form.html' %}
{% block page-title %} Company Parameter {% endblock page-title %}
{% block extra_css %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'financial-layout/assets/plugin/bootstrap-datepicker/css/bootstrap-datepicker.min.css' %}" />
    <style>
        /* Style the list */
        ul.tab {
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
            border: 1px solid #ccc;
            background-color: #f1f1f1;
        }

        /* Float the list items side by side */
        ul.tab li {float: left;}

        /* Style the links inside the list items */
        ul.tab li a {
            display: inline-block;
            color: black;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            transition: 0.3s;
            font-size: 13px;
        }

        /* Change background color of links on hover */
        ul.tab li a:hover {background-color: #ddd;}

        /* Create an active/current tablink class */
        ul.tab li a:focus, form .active {background-color: #ccc;}

        /* Style the tab content */
        .tabcontent {
            display: none;
            padding: 20px 12px 10px 0px;
            border: 1px solid #ccc;
            border-top: none;
            overflow: auto;
        }
        .help-block.form-error{
            font-size: 12px;
        }

        .mark-with-error{
            background-color: #f2dede;
        }
    </style>
{% endblock extra_css %}
{% block page-content %}
<div class="panel">
    <div class="panel-body container-fluid">
        <div class="row">
            <div class="panel margin-bottom-20">
                <!-- Start Simple Form Validation -->
                <div class="panel-heading">
                    <h3 class="panel-title">CREATE</h3>
                </div>
                <div class="panel-body">
                    <form autocomplete="off" id="form-b" method="post">
                        <div id="error-list"></div>
                        {% csrf_token %}
                        <ul class="tab">
                            <li><a href="javascript:void(0)" class="tablinks" onclick="openTab(event, 'maindetails')">Main Details</a></li>
                            <li><a href="javascript:void(0)" class="tablinks" onclick="openTab(event, 'contactpersons')">Contact Persons</a></li>
                            <li><a href="javascript:void(0)" class="tablinks" onclick="openTab(event, 'refnumbers')">Reference Numbers</a></li>
                            <li><a href="javascript:void(0)" class="tablinks" onclick="openTab(event, 'wtaxsign')">Withholding Tax Signatory</a></li>
                            <li><a href="javascript:void(0)" class="tablinks" onclick="openTab(event, 'bir')">BIR</a></li>
                            <li><a href="javascript:void(0)" class="tablinks" onclick="openTab(event, 'accounts')">Accounts</a></li>
                            <li><a href="javascript:void(0)" class="tablinks" onclick="openTab(event, 'proformaentries')">Pro-forma Entries</a></li>
                            <li><a href="javascript:void(0)" class="tablinks" onclick="openTab(event, 'defaults')">Defaults</a></li>
                            <li><a href="javascript:void(0)" class="tablinks" onclick="openTab(event, 'lastnumbersused')">Last Numbers Used</a></li>
                            <li><a href="javascript:void(0)" class="tablinks" onclick="openTab(event, 'approvers')">Approvers</a></li>
                        </ul>
                        <div id="maindetails" class="tabcontent">
                            <div class="form-group form-group-0 col-md-6 form-material {{ form.company.errors|yesno:'has-error,' }}">
                                <label for="id_company" class="col-sm-3 control-label">Company</label>
                                <div class="col-sm-7">
                                    <select id="id_company" name="company" class="form-control" data-validation="required">
                                        <option value="">-- Select --</option>
                                        {% for company in company %}
                                            <option value="{{ company.id }}" {% if form.company.value|add:0 == company.id %} selected="selected" {% endif %}>{{ company.description }}</option>
                                        {% endfor %}
                                    </select>
                                    <span class="help-block form-error">{{ form.company.errors.as_text }}</span>
                                </div>
                            </div>

                            <div class="form-group form-group-0 col-md-6
                             {{ form.code.errors|yesno:'has-error,' }}">
                                <label for="id_code" class="col-sm-3 control-label">Code</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_code" maxlength="10" placeholder="Code" name="code" data-validation="required" value="{{ form.code.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.code.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6
                             {{ form.name.errors|yesno:'has-error,' }}">
                                <label for="id_description" class="col-sm-3 control-label">Name</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_description" maxlength="250" placeholder="Name" name="description" data-validation="required" value="{{ form.description.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.description.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.address1.errors|yesno:'has-error,' }}">
                                <label for="id_address1" class="col-sm-3 control-label">Address</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="id_address1" maxlength="250" name="address1" data-validation="required" value="{{ form.address1.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.address1.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.telno1.errors|yesno:'has-error,' }}">
                                <label for="id_telno1" class="col-sm-3 control-label">Tel. No. 1</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_telno1" maxlength="20" placeholder="Tel. No." name="telno1"
                                           data-validation="required" value="{{ form.telno1.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.telno1.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.address2.errors|yesno:'has-error,' }}">
                                <label for="id_address2" class="col-sm-3 control-label"></label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" id="id_address2" maxlength="250" name="address2" data-validation="required" value="{{ form.address2.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.address2.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.telno2.errors|yesno:'has-error,' }}">
                                <label for="id_telno2" class="col-sm-3 control-label">Tel. No. 2</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_telno2" maxlength="20" placeholder="Tel. No." name="telno2"
                                           value="{{ form.telno2.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.telno2.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6
                             {{ form.tin.errors|yesno:'has-error,' }}">
                                <label for="id_zipcode" class="col-sm-3 control-label">Zip Code</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control zipCode" id="id_zipcode" placeholder="Zip Code" name="zipcode" value={{ form.zipcode.value|default:"" }}>
                                    <span class="help-block form-error">{{ form.zipcode.errors.as_text }}</span>
                                </div>
                            </div>
                        </div>
                        <div id="contactpersons" class="tabcontent">
                            <div class="form-group form-group-0 col-md-6 {{ form.contactperson_acctg1.errors|yesno:'has-error,' }}">
                                <label for="id_contactperson_acctg1" class="col-sm-5 control-label">Accounting</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_contactperson_acctg1" maxlength="75" placeholder="Acctg Contact Person 1"
                                           name="contactperson_acctg1" data-validation="required" value="{{ form.contactperson_acctg1.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.contactperson_acctg1.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.contactperson_acctg2.errors|yesno:'has-error,' }}">
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_contactperson_acctg2" maxlength="75" placeholder="Acctg Contact Person 2"
                                           name="contactperson_acctg2" value="{{ form.contactperson_acctg2.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.contactperson_acctg2.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.contactperson_it1.errors|yesno:'has-error,' }}">
                                <label for="id_contactperson_it1" class="col-sm-5 control-label">Information Technology</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_contactperson_it1" maxlength="75" placeholder="IT Contact Person 1"
                                           name="contactperson_it1" data-validation="required" value="{{ form.contactperson_it1.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.contactperson_it1.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.contactperson_it2.errors|yesno:'has-error,' }}">
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_contactperson_it2" maxlength="75" placeholder="IT Contact Person 2"
                                           name="contactperson_it2" value="{{ form.contactperson_it2.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.contactperson_it2.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.contactperson_other1.errors|yesno:'has-error,' }}">
                                <label for="id_contactperson_other1" class="col-sm-5 control-label">Others</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_contactperson_other1" maxlength="75" placeholder="Contact Person 1"
                                           name="contactperson_other1" value="{{ form.contactperson_other1.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.contactperson_other1.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.contactperson_other2.errors|yesno:'has-error,' }}">
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_contactperson_other2" maxlength="75" placeholder="Contact Person 2"
                                           name="contactperson_other2" value="{{ form.contactperson_other2.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.contactperson_other2.errors.as_text }}</span>
                                </div>
                            </div>
                        </div>
                        <div id="refnumbers" class="tabcontent">
                            <div class="form-group form-group-0 col-md-6 {{ form.rescertnum.errors|yesno:'has-error,' }}">
                                <label for="id_rescertnum" class="col-sm-3 control-label">Res. Cert. No.</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control resCertNumber validateIntFormMask" id="id_rescertnum" maxlength="15" placeholder="Res. Cert. No." name="rescertnum"
                                           value="{{ form.rescertnum.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.rescertnum.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.sssnum.errors|yesno:'has-error,' }}">
                                <label for="id_sssnum" class="col-sm-3 control-label">SSS No.</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control sssNumber validateIntFormMask" id="id_sssnum" maxlength="16" placeholder="SSS No." name="sssnum"
                                           value="{{ form.sssnum.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.sssnum.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.issued_at.errors|yesno:'has-error,' }}">
                                <label for="id_issued_at" class="col-sm-3 control-label">Issued At</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_issued_at" maxlength="20" name="issued_at"
                                           value="{{ form.issued_at.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.issued_at.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.tinnum.errors|yesno:'has-error,' }}">
                                <label for="id_tinnum" class="col-sm-3 control-label">TIN</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control tinNumber validateIntFormMask" id="id_tinnum" maxlength="18" placeholder="TIN No." name="tinnum"
                                           value="{{ form.tinnum.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.tinnum.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.issued_date.errors|yesno:'has-error,' }}">
                                <label for="id_issued_date" class="col-sm-3 control-label">Issued On</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control datepicker" id="id_issued_date" name="issued_date" value="{{ form.issued_date.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.issued_date.errors.as_text }}</span>
                                </div>
                            </div>
                        </div>
                        <div id="wtaxsign" class="tabcontent">
                            <div class="form-group form-group-0 col-md-6 {{ form.wtaxsign_name.errors|yesno:'has-error,' }}">
                                <label for="id_wtaxsign_name" class="col-sm-3 control-label">Name</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_wtaxsign_name" maxlength="50" name="wtaxsign_name"
                                           value="{{ form.wtaxsign_name.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.wtaxsign_name.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.wtaxsign_tin.errors|yesno:'has-error,' }}">
                                <label for="id_wtaxsign_tin" class="col-sm-3 control-label">TIN</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control tinNumber validateIntFormMask" id="id_wtaxsign_tin" maxlength="18" name="wtaxsign_tin"
                                           value="{{ form.wtaxsign_tin.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.wtaxsign_tin.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.wtaxsign_position.errors|yesno:'has-error,' }}">
                                <label for="id_wtaxsign_position" class="col-sm-3 control-label">Position</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_wtaxsign_position" maxlength="20" name="wtaxsign_position"
                                           value="{{ form.wtaxsign_position.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.wtaxsign_position.errors.as_text }}</span>
                                </div>
                            </div>
                        </div>
                        <div id="bir" class="tabcontent">
                            <div class="form-group form-group-0 col-md-6 {{ form.report_footer1.errors|yesno:'has-error,' }}">
                                <label for="id_report_footer1" class="col-sm-3 control-label">Notes 1</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_report_footer1" maxlength="250" name="report_footer1"
                                           value="{{ form.report_footer1.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.report_footer1.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.report_footer2.errors|yesno:'has-error,' }}">
                                <label for="id_report_footer2" class="col-sm-3 control-label">Notes 2</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_report_footer2" maxlength="250" name="report_footer2"
                                           value="{{ form.report_footer2.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.report_footer2.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.report_footer3.errors|yesno:'has-error,' }}">
                                <label for="id_report_footer3" class="col-sm-3 control-label">Notes 3</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_report_footer3" maxlength="250" name="report_footer3"
                                           value="{{ form.report_footer3.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.report_footer3.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.report_footer4.errors|yesno:'has-error,' }}">
                                <label for="id_report_footer4" class="col-sm-3 control-label">Notes 4</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_report_footer4" maxlength="250" name="report_footer4"
                                           value="{{ form.report_footer4.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.report_footer4.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.report_footer5.errors|yesno:'has-error,' }}">
                                <label for="id_report_footer5" class="col-sm-3 control-label">Notes 5</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_report_footer5" maxlength="250" name="report_footer5"
                                           value="{{ form.report_footer5.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.report_footer5.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.report_footer6.errors|yesno:'has-error,' }}">
                                <label for="id_report_footer6" class="col-sm-3 control-label">Notes 6</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_report_footer6" maxlength="250" name="report_footer6"
                                           value="{{ form.report_footer6.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.report_footer6.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.report_footer7.errors|yesno:'has-error,' }}">
                                <label for="id_report_footer7" class="col-sm-3 control-label">Notes 7</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_report_footer7" maxlength="250" name="report_footer7"
                                           value="{{ form.report_footer7.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.report_footer7.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.report_footer8.errors|yesno:'has-error,' }}">
                                <label for="id_report_footer8" class="col-sm-3 control-label">Notes 8</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_report_footer8" maxlength="250" name="report_footer8"
                                           value="{{ form.report_footer8.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.report_footer8.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.report_footer9.errors|yesno:'has-error,' }}">
                                <label for="id_report_footer9" class="col-sm-3 control-label">Notes 9</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_report_footer9" maxlength="250" name="report_footer9"
                                           value="{{ form.report_footer9.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.report_footer9.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.report_footer10.errors|yesno:'has-error,' }}">
                                <label for="id_report_footer10" class="col-sm-3 control-label">Notes 10</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_report_footer10" maxlength="250" name="report_footer10"
                                           value="{{ form.report_footer10.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.report_footer10.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.report_footer11.errors|yesno:'has-error,' }}">
                                <label for="id_report_footer11" class="col-sm-3 control-label">Notes 11</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_report_footer11" maxlength="250" name="report_footer11"
                                           value="{{ form.report_footer11.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.report_footer11.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.report_footer12.errors|yesno:'has-error,' }}">
                                <label for="id_report_footer12" class="col-sm-3 control-label">Notes 12</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_report_footer12" maxlength="250" name="report_footer12"
                                           value="{{ form.report_footer12.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.report_footer12.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.report_footer13.errors|yesno:'has-error,' }}">
                                <label for="id_report_footer13" class="col-sm-3 control-label">Notes 13</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_report_footer13" maxlength="250" name="report_footer13"
                                           value="{{ form.report_footer13.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.report_footer13.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.report_footer14.errors|yesno:'has-error,' }}">
                                <label for="id_report_footer14" class="col-sm-3 control-label">Notes 14</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="id_report_footer14" maxlength="250" name="report_footer14"
                                           value="{{ form.report_footer14.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.report_footer14.errors.as_text }}</span>
                                </div>
                            </div>
                        </div>
                        <div id="defaults" class="tabcontent">
                            <div class="form-group form-group-0 col-md-6 {{ form.pcv_meal_budget_limit.errors|yesno:'has-error,' }}">
                                <label for="id_pcv_meal_budget_limit" class="col-sm-3 control-label">PCV Meal Expense Budget Limit</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control amount text-right" id="id_pcv_meal_budget_limit" maxlength="19" placeholder="0.00" name="pcv_meal_budget_limit"
                                           value="{{ form.pcv_meal_budget_limit.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.pcv_meal_budget_limit.errors.as_text }}</span>
                                </div>
                            </div>
                        </div>
                        <div id="accounts" class="tabcontent">
                            <div class="form-group form-group-0 col-md-6 {{ form.coa_retainedearnings.errors|yesno:'has-error,' }}">
                                <label for="id_coa_retainedearnings" class="col-sm-3 control-label">Retained Earnings</label>
                                <div class="col-sm-9">
                                     <select name="coa_retainedearnings" class="form-control select2" id="id_coa_retainedearnings">
                                        <option value="">-- Select --</option>
                                        {% for data in coa_retainedearnings %}
                                            <option value="{{ data.id }}">[{{ data.accountcode }}] {{ data.description }}</option>
                                        {% endfor %}
                                    </select>
                                    <span class="help-block form-error">{{ form.coa_retainedearnings.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.coa_currentearnings.errors|yesno:'has-error,' }}">
                                <label for="id_coa_currentearnings" class="col-sm-3 control-label">Current Earnings</label>
                                <div class="col-sm-9">
                                     <select name="coa_currentearnings" class="form-control select2" id="id_coa_currentearnings">
                                        <option value="">-- Select --</option>
                                        {% for data in coa_currentearnings %}
                                            <option value="{{ data.id }}">[{{ data.accountcode }}] {{ data.description }}</option>
                                        {% endfor %}
                                    </select>
                                    <span class="help-block form-error">{{ form.coa_currentearnings.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.coa_incometaxespayable.errors|yesno:'has-error,' }}">
                                <label for="id_coa_incometaxespayable" class="col-sm-3 control-label">Income Taxes Payable</label>
                                <div class="col-sm-9">
                                     <select name="coa_incometaxespayable" class="form-control select2" id="id_coa_incometaxespayable">
                                        <option value="">-- Select --</option>
                                        {% for data in coa_incometaxespayable %}
                                            <option value="{{ data.id }}">[{{ data.accountcode }}] {{ data.description }}</option>
                                        {% endfor %}
                                    </select>
                                    <span class="help-block form-error">{{ form.coa_incometaxespayable.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.coa_provisionincometax.errors|yesno:'has-error,' }}">
                                <label for="id_coa_provisionincometax" class="col-sm-3 control-label">Provision for Income Tax</label>
                                <div class="col-sm-9">
                                     <select name="coa_provisionincometax" class="form-control select2" id="id_coa_provisionincometax">
                                        <option value="">-- Select --</option>
                                        {% for data in coa_provisionincometax %}
                                            <option value="{{ data.id }}">[{{ data.accountcode }}] {{ data.description }}</option>
                                        {% endfor %}
                                    </select>
                                    <span class="help-block form-error">{{ form.coa_provisionincometax.errors.as_text }}</span>
                                </div>
                            </div>
                        </div>
                        <div id="proformaentries" class="tabcontent">
                            <div class="form-group form-group-0 col-md-6 {{ form.coa_cashinbank.errors|yesno:'has-error,' }}">
                                <label for="id_coa_cashinbank" class="col-sm-3 control-label">Cash in Bank</label>
                                <div class="col-sm-9">
                                     <select name="coa_cashinbank" class="form-control select2" id="id_coa_cashinbank">
                                        <option value="">-- Select --</option>
                                        {% for data in coa_cashinbank %}
                                            <option value="{{ data.id }}">[{{ data.accountcode }}] {{ data.description }}</option>
                                        {% endfor %}
                                    </select>
                                    <span class="help-block form-error">{{ form.coa_cashinbank.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.coa_aptrade.errors|yesno:'has-error,' }}">
                                <label for="id_coa_aptrade" class="col-sm-3 control-label">Accounts Payable</label>
                                <div class="col-sm-9">
                                     <select name="coa_aptrade" class="form-control select2" id="id_coa_aptrade">
                                        <option value="">-- Select --</option>
                                        {% for data in coa_aptrade %}
                                            <option value="{{ data.id }}">[{{ data.accountcode }}] {{ data.description }}</option>
                                        {% endfor %}
                                    </select>
                                    <span class="help-block form-error">{{ form.coa_aptrade.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-5 col-md-6 {{ form.coa_inputvat.errors|yesno:'has-error,' }}">
                                <label for="id_coa_inputvat" class="col-sm-3 control-label">Input VAT</label>
                                <div class="col-sm-9">
                                    <select name="coa_inputvat" class="form-control select2" id="id_coa_inputvat">
                                        <option value="">-- Select --</option>
                                        {% for data in coa_inputvat %}
                                            <option value="{{ data.id }}">[{{ data.accountcode }}] {{ data.description }}</option>
                                        {% endfor %}
                                    </select>
                                    <span class="help-block form-error">{{ form.coa_inputvat.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.coa_deferredinputvat.errors|yesno:'has-error,' }}">
                                <label for="id_coa_deferredinputvat" class="col-sm-3 control-label">Deferred Input VAT</label>
                                <div class="col-sm-9">
                                     <select name="coa_deferredinputvat" class="form-control select2" id="id_coa_deferredinputvat">
                                        <option value="">-- Select --</option>
                                        {% for data in coa_deferredinputvat %}
                                            <option value="{{ data.id }}">[{{ data.accountcode }}] {{ data.description }}</option>
                                        {% endfor %}
                                    </select>
                                    <span class="help-block form-error">{{ form.coa_deferredinputvat.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.coa_outputvat.errors|yesno:'has-error,' }}">
                                <label for="id_coa_outputvat" class="col-sm-3 control-label">Output VAT</label>
                                <div class="col-sm-9">
                                    <select name="coa_outputvat" class="form-control select2" id="id_coa_outputvat">
                                        <option value="">-- Select --</option>
                                        {% for data in coa_outputvat %}
                                            <option value="{{ data.id }}">[{{ data.accountcode }}] {{ data.description }}</option>
                                        {% endfor %}
                                    </select>
                                    <span class="help-block form-error">{{ form.coa_outputvat.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.coa_ewtax.errors|yesno:'has-error,' }}">
                                <label for="id_coa_ewtax" class="col-sm-3 control-label">Expanded WTax</label>
                                <div class="col-sm-9">
                                     <select name="coa_ewtax" class="form-control select2" id="id_coa_ewtax">
                                        <option value="">-- Select --</option>
                                        {% for data in coa_ewtax %}
                                            <option value="{{ data.id }}">[{{ data.accountcode }}] {{ data.description }}</option>
                                        {% endfor %}
                                    </select>
                                    <span class="help-block form-error">{{ form.coa_ewtax.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.coa_unsubscribe.errors|yesno:'has-error,' }}">
                                <label for="id_coa_unsubscribe" class="col-sm-3 control-label">Unearned Subscription</label>
                                <div class="col-sm-9">
                                     <select name="coa_unsubscribe" class="form-control select2" id="id_coa_unsubscribe">
                                        <option value="">-- Select --</option>
                                        {% for data in coa_unsubscribe %}
                                            <option value="{{ data.id }}">[{{ data.accountcode }}] {{ data.description }}</option>
                                        {% endfor %}
                                    </select>
                                    <span class="help-block form-error">{{ form.coa_unsubscribe.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.coa_subsrev.errors|yesno:'has-error,' }}">
                                <label for="id_coa_subsrev" class="col-sm-3 control-label">Subsription Revenue</label>
                                <div class="col-sm-9">
                                     <select name="coa_subsrev" class="form-control select2" id="id_coa_subsrev">
                                        <option value="">-- Select --</option>
                                        {% for data in coa_subsrev %}
                                            <option value="{{ data.id }}">[{{ data.accountcode }}] {{ data.description }}</option>
                                        {% endfor %}
                                    </select>
                                    <span class="help-block form-error">{{ form.coa_subsrev.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.def_bankaccount.errors|yesno:'has-error,' }}">
                                <label for="id_def_bankaccount" class="col-sm-3 control-label">Bank Account</label>
                                <div class="col-sm-9">
                                    <select name="def_bankaccount" class="form-control select2" id="id_def_bankaccount">
                                        <option value="">-- Select --</option>
                                        {% for data in def_bankaccount %}
                                            <option value="{{ data.id }}" {% if form.data.value|add:0 == data.id %} selected="selected" {% endif %}>{{ data.code }} [{{ data.bank.description }} - {{ data.bankaccounttype.description }}, {{ data.bankbranch.description }}]</option>
                                        {% endfor %}
                                     </select>
                                    <span class="help-block form-error">{{ form.def_bankaccount.errors.as_text }}</span>
                                </div>
                            </div>
                        </div>
                        <div id="lastnumbersused" class="tabcontent">
                            <div class="form-group form-group-0 col-md-6 {{ form.last_closed_date.errors|yesno:'has-error,' }}">
                                <label for="id_last_closed_date" class="col-sm-3 control-label">Last Monthly Closing</label>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control datepicker" id="id_last_closed_date" name="last_closed_date" value="{{ form.last_closed_date.value|default:'' }}">
                                    <span class="help-block form-error">{{ form.last_closed_date.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.income_tax_rate.errors|yesno:'has-error,' }}">
                                <label for="id_income_tax_rate" class="col-sm-3 control-label">Provision for Income Tax Rate</label>
                                <div class="col-sm-7">
                                    <input type="number" class="form-control" id="id_income_tax_rate" name="income_tax_rate"
                                           value="{{ form.income_tax_rate.value|default:0 }}">
                                    <span class="help-block form-error">{{ form.income_tax_rate.errors.as_text }}</span>
                                </div>
                            </div>
                        </div>
                        <div id="approvers" class="tabcontent">
                            <div class="form-group form-group-0 col-md-6 {{ form.budgetapprover.errors|yesno:'has-error,' }}">
                                <label for="id_budgetapprover" class="col-sm-3 control-label">Budget</label>
                                <div class="col-sm-9">
                                     <select name="budgetapprover" class="form-control select2" id="id_budgetapprover">
                                        <option value="">-- Select --</option>
                                        {% for data in budgetapprover %}
                                            <option value="{{ data.id }}" {% if form.data.value|add:0 == data.id %} selected="selected" {% endif %}>{{ data.first_name }} {{ data.last_name }}</option>
                                        {% endfor %}
                                    </select>
                                    <span class="help-block form-error">{{ form.budgetapprover.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.pcv_initial_approver.errors|yesno:'has-error,' }}">
                                <label for="id_pcv_initial_approver" class="col-sm-3 control-label">Petty Cash Voucher (Initial)</label>
                                <div class="col-sm-9">
                                     <select name="pcv_initial_approver" class="form-control select2" id="id_pcv_initial_approver">
                                        <option value="">-- Select --</option>
                                        {% for data in pcv_initial_approver %}
                                            <option value="{{ data.id }}" {% if form.data.value|add:0 == data.id %} selected="selected" {% endif %}>{{ data.first_name }} {{ data.last_name }}</option>
                                        {% endfor %}
                                    </select>
                                    <span class="help-block form-error">{{ form.pcv_initial_approver.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.pcv_final_approver.errors|yesno:'has-error,' }}">
                                <label for="id_pcv_final_approver" class="col-sm-3 control-label">Petty Cash (Final)</label>
                                <div class="col-sm-9">
                                     <select name="pcv_final_approver" class="form-control select2" id="pcv_final_approver">
                                        <option value="">-- Select --</option>
                                        {% for data in pcv_final_approver %}
                                            <option value="{{ data.id }}" {% if form.data.value|add:0 == data.id %} selected="selected" {% endif %}>{{ data.first_name }} {{ data.last_name }}</option>
                                        {% endfor %}
                                    </select>
                                    <span class="help-block form-error">{{ form.pcv_final_approver.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.rfv_initial_approver.errors|yesno:'has-error,' }}">
                                <label for="id_rfv_initial_approver" class="col-sm-3 control-label">Revolving Fund (Initial)</label>
                                <div class="col-sm-9">
                                     <select name="rfv_initial_approver" class="form-control select2" id="rfv_initial_approver">
                                        <option value="">-- Select --</option>
                                        {% for data in rfv_initial_approver %}
                                            <option value="{{ data.id }}" {% if form.data.value|add:0 == data.id %} selected="selected" {% endif %}>{{ data.first_name }} {{ data.last_name }}</option>
                                        {% endfor %}
                                    </select>
                                    <span class="help-block form-error">{{ form.rfv_initial_approver.errors.as_text }}</span>
                                </div>
                            </div>
                            <div class="form-group form-group-0 col-md-6 {{ form.rfv_final_approver.errors|yesno:'has-error,' }}">
                                <label for="id_rfv_final_approver" class="col-sm-3 control-label">Revolving Fund (Final)</label>
                                <div class="col-sm-9">
                                     <select name="rfv_final_approver" class="form-control select2" id="rfv_final_approver">
                                        <option value="">-- Select --</option>
                                        {% for data in rfv_final_approver %}
                                            <option value="{{ data.id }}" {% if form.data.value|add:0 == data.id %} selected="selected" {% endif %}>{{ data.first_name }} {{ data.last_name }}</option>
                                        {% endfor %}
                                    </select>
                                    <span class="help-block form-error">{{ form.rfv_final_approver.errors.as_text }}</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group margin-bottom-0">
                            <ul id="errorList"></ul>
                            <br><button type="submit" class="btn btn-info" id="validateButton">Submit</button>
                        </div>
                    </form>
                </div>
                <!-- End Simple Form Validation -->
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
</div>
{% endblock page-content %}
{% block extra_js %}
    <script src="{% static 'financial-layout/assets/js/form-mask/jquery.formatter.min.js' %}"></script>
    <script src="{% static 'financial-layout/assets/js/form-mask/custom-masks.js' %}"></script>
    <script src="{% static 'financial-layout/assets/js/form-mask/validate-masks.js' %}"></script>
    <script src="{% static 'financial-layout/assets/plugin/bootstrap-datepicker/js/bootstrap-datepicker.min.js' %}"></script>
    <script src="{% static 'financial-layout/assets/plugin/bootstrap-datepicker/js/custom-datepicker.js' %}"></script>
<script type="text/javascript">
function openTab(evt, tabName) {
    // Declare all variables
    var i, tabcontent, tablinks;

    // Get all elements with class="tabcontent" and hide them
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }

    // Get all elements with class="tablinks" and remove the class "active"
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }

    // Show the current tab, and add an "active" class to the link that opened the tab
    document.getElementById(tabName).style.display = "block";
    evt.currentTarget.className += " active";
}

$(document).ready(function() {
    openTab(event, 'maindetails');
    $('.tablinks').eq(0).addClass('active');

    $('#validateButton').on('click', function(){
        setTimeout(red,1)
    })

    function red(){
        if ($('#maindetails').find(".has-error").length > 0){ $('.tab li:eq(0)').addClass('mark-with-error')}
        else{$('.tab li:eq(0)').removeClass('mark-with-error')}
        if ($('#contactpersons').find(".has-error").length > 0){$('.tab li:eq(1)').addClass('mark-with-error')}
        else{$('.tab li:eq(1)').removeClass('mark-with-error')}
        if ($('#refnumbers').find(".has-error").length > 0){$('.tab li:eq(2)').addClass('mark-with-error')}
        else{$('.tab li:eq(2)').removeClass('mark-with-error')}
        if ($('#wtaxsign').find(".has-error").length > 0){$('.tab li:eq(3)').addClass('mark-with-error')}
        else{$('.tab li:eq(3)').removeClass('mark-with-error')}
    }
});

</script>
<script src="{% static 'financial-layout/assets/plugin/select2/js/select2.min.js' %}"></script>
<script src="{% static 'js/ajaxselect2.js' %}" type="text/javascript"></script>
<script type="text/javascript">
    $(function(){
        $('.select2').select2({});
    });
</script>
{% load static %}
<script src="{% static 'js/jquery.maskMoney.min.js' %}" type="text/javascript"></script>
<script src="{% static 'js/custom-maskMoney.js' %}" type="text/javascript"></script>
{% endblock extra_js %}



